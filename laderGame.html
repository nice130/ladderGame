<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사다리타기</title>
    <style>
        #app{
            text-align: center;
        }
        .lader_outer{
            width: 500px;
            height: 500px;
            margin: auto;
        }
        .result{
            bottom: 50%;
        }
    </style>
</head>
<body>
    <div id="app">
        <h1>사다리타기</h1>
        <div id="participant"> 
            <!-- 인원수 설정 -->
            참가자 수 
            <button onclick="participant(this)" value="minus">-</button>
                <!-- 몇명변수추가 -->
                <span id="participantNumber"></span>
            <button onclick="participant(this)" value="plus">+</button>
        </div>
        <div>
            <button onclick="start()">게임생성</button>
        </div>
        <!-- 사다리게임판 -->
        <div>
            <!-- 참가자 -->
            <div id="1">
                <td>참가자</td>
            </div>
            <canvas class="lader_outer" id="lader_outer">

            </canvas>
            <!-- 당첨칸 -->
            <div class="result" id="2">
                <td>당첨</td>
            </div>
        </div>
    </div>

    <script>
        let line = 2;
        let $participant = document.getElementById("participantNumber")
        var $div = document.getElementById("1").getBoundingClientRect().bottom;
        var $res = document.getElementById("2").getBoundingClientRect().top;
        $participant.innerText= line; //참가자 초기값 2
        console.log($div);
        console.log($res);

        const start = ()=>{
            var lader_canvas = document.getElementById("lader_outer");
            var ctx = lader_canvas.getContext("2d");
            ctx.beginPath();
            ctx.moveTo($div,0);
            ctx.lineTo($div,$res);
            ctx.stroke();
            // const canvas = document.getElementById(_id);
            // let ctx = canvas.getContext('2d');
            // let width = canvas.width;
            // let height = canvas.height;
            // let defaultLineWidth = 3;
            // let defaultLineColor = '#A6ABCA';
            // for(let i=0; i<line; i++){
            //     let startPosX = i / line * width +1/line*width/2
            //     ctx.save();
            //     ctx.beginPath();
            //     // ctx.lineWidth = defaultLineWidth;
            //     // ctx.strokeStyle = defaultLineColor;
            //     ctx.moveTo(startPosX, height * 0.1);
            //     ctx.lineTo(startPosX,height*0.9);
            //     ctx.stroke();
            //     ctx.closePath();
            //     ctx.restore();
            //     let arr = [
            //         {x : startPosX, y : height * 0.1},
            //         {x : startPosX, y : height * 0.9}
            //     ]
            //     data.push(arr);
            // }
        }
        
        const participant=(val)=>{
            value=val.value;
            $participant.getBoundingClientRect().bottom;
            if(value=='minus'){
                if(line =='2'){
                    alert("참가자는2명이상이여야합니다");
                    return;
                }
                line--;
                $participant.innerText= line;
            }else{
                line++;
                $participant.innerText= line;
            }
        }
        

        // let browserPoint = (event)=>{
        //     console.log(`브라우저 좌표 : (${event.pageX}, ${event.pageY})`);
        // }
        // let clientPoint = (event) =>{
        //     console.log(`화면 좌표 : (${event.clientX}, ${event.clientY})`);
        // }
        // window.addEventListener('click',e=>{
        //     browserPoint(e);
        //     clientPoint(e);
        // });
    </script>
</body>
</html>